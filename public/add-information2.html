<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ADD INFORMATION | SMART NOTICE BOARD</title>

<style>
/* ===== GLOBAL STYLES ===== */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: #1e293b;
    min-height: 100vh;
}

/* ===== TOP HEADER ===== */
.top-header {
    background: linear-gradient(135deg, #1e40af 0%, #3b82f6 100%);
    color: white;
    padding: 18px 30px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.2);
    position: sticky;
    top: 0;
    z-index: 1000;
}

.header-left {
    font-size: 20px;
    font-weight: 700;
    letter-spacing: 1px;
    display: flex;
    align-items: center;
    gap: 10px;
}

.header-left::before {
    content: "üìã";
    font-size: 24px;
}

.header-right {
    font-size: 13px;
    font-weight: 500;
    display: flex;
    align-items: center;
    gap: 12px;
}

.user-avatar {
    width: 36px;
    height: 36px;
    background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 16px;
}

/* ===== LAYOUT ===== */
.layout {
    display: flex;
    min-height: calc(100vh - 120px);
    max-width: 1920px;
    margin: 0 auto;
}

/* ===== SIDEBAR ===== */
.sidebar {
    width: 260px;
    background: linear-gradient(180deg, #1e293b 0%, #0f172a 100%);
    padding: 25px 0;
    box-shadow: 4px 0 10px rgba(0, 0, 0, 0.3);
}

.sidebar a {
    display: flex;
    align-items: center;
    gap: 12px;
    color: #cbd5e1;
    text-decoration: none;
    padding: 16px 28px;
    font-size: 14px;
    font-weight: 600;
    transition: all 0.3s ease;
    border-left: 4px solid transparent;
}

.sidebar a:hover {
    background-color: rgba(59, 130, 246, 0.1);
    color: white;
    border-left-color: #3b82f6;
    padding-left: 32px;
}

.sidebar a.active {
    background: linear-gradient(90deg, rgba(59, 130, 246, 0.2) 0%, transparent 100%);
    color: white;
    border-left-color: #60a5fa;
}

.sidebar-icon {
    font-size: 18px;
    width: 24px;
}

/* ===== PAGE CONTENT ===== */
.page-content {
    flex: 1;
    padding: 30px;
    overflow-y: auto;
    background-color: #f8fafc;
}

/* ===== SECTION ===== */
.section {
    background: white;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 25px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.07);
    border: 1px solid #e2e8f0;
}

.section-title {
    font-size: 20px;
    font-weight: 700;
    color: #1e40af;
    margin-bottom: 20px;
    padding-bottom: 12px;
    border-bottom: 3px solid #3b82f6;
    display: flex;
    align-items: center;
    gap: 10px;
}

.section-title::before {
    content: "üìù";
    font-size: 24px;
}

/* ===== USER INFO GRID ===== */
.user-info-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
    gap: 15px;
}

.user-info-item {
    padding: 14px;
    background: linear-gradient(135deg, #e0e7ff 0%, #f3f4f6 100%);
    border-radius: 8px;
    border-left: 4px solid #3b82f6;
    transition: transform 0.2s;
}

.user-info-item:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
}

.user-info-item b {
    color: #1e40af;
    display: block;
    font-size: 12px;
    margin-bottom: 4px;
}

.user-info-item span {
    font-size: 14px;
    font-weight: 600;
    color: #1e293b;
}

/* ===== ALERT ===== */
.alert {
    padding: 14px 18px;
    border-radius: 10px;
    margin-bottom: 20px;
    font-size: 14px;
    display: flex;
    align-items: center;
    gap: 12px;
    animation: slideIn 0.5s ease;
}

@keyframes slideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }
    to {
        opacity: 1;
        transform: translateY(0);
    }
}

.alert-info {
    background: linear-gradient(135deg, #dbeafe 0%, #e0e7ff 100%);
    border: 2px solid #93c5fd;
    color: #1e40af;
}

.alert::before {
    content: "‚ÑπÔ∏è";
    font-size: 20px;
}

/* ===== FORM GRID ===== */
.form-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
    gap: 20px;
    margin-bottom: 25px;
}

/* ===== FORM BOX ===== */
.form-box {
    background: linear-gradient(135deg, #f8fafc 0%, #ffffff 100%);
    border: 2px solid #e2e8f0;
    padding: 20px;
    border-radius: 12px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    transition: all 0.3s ease;
}

.form-box:hover {
    border-color: #3b82f6;
    box-shadow: 0 4px 12px rgba(59, 130, 246, 0.15);
    transform: translateY(-2px);
}

.form-box h4 {
    margin: 0 0 16px 0;
    font-size: 16px;
    color: #1e40af;
    border-bottom: 2px solid #3b82f6;
    padding-bottom: 8px;
    display: flex;
    align-items: center;
    gap: 8px;
}

/* ===== FORM ROW ===== */
.form-row {
    margin-bottom: 14px;
}

.form-row label {
    font-size: 13px;
    font-weight: 600;
    display: block;
    margin-bottom: 6px;
    color: #334155;
}

.form-row input[type="text"],
.form-row input[type="date"],
.form-row input[type="time"],
.form-row input[type="file"],
.form-row select,
.form-row textarea {
    width: 100%;
    padding: 10px 12px;
    font-size: 13px;
    border: 2px solid #cbd5e1;
    border-radius: 6px;
    font-family: inherit;
    transition: all 0.3s ease;
}

.form-row input:focus,
.form-row select:focus,
.form-row textarea:focus {
    outline: none;
    border-color: #3b82f6;
    box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
}

.form-row textarea {
    resize: vertical;
    min-height: 80px;
}

.time-inputs {
    display: grid;
    grid-template-columns: 1fr 1fr;
    gap: 10px;
}

.required {
    color: #ef4444;
    font-weight: 700;
    margin-left: 2px;
}

.note-text {
    font-size: 12px;
    color: #64748b;
    margin-top: 5px;
    font-style: italic;
    display: flex;
    align-items: center;
    gap: 6px;
}

.note-text::before {
    content: "üí°";
    font-size: 14px;
}

/* ===== CHECKBOX GROUP ===== */
.checkbox-group {
    display: flex;
    flex-direction: column;
    gap: 10px;
}

.checkbox-group label {
    font-size: 13px;
    font-weight: normal;
    display: flex;
    align-items: center;
    cursor: pointer;
    padding: 8px;
    border-radius: 6px;
    transition: background-color 0.2s;
}

.checkbox-group label:hover {
    background-color: #f1f5f9;
}

.checkbox-group input[type="checkbox"] {
    margin-right: 10px;
    cursor: pointer;
    width: 18px;
    height: 18px;
    accent-color: #3b82f6;
}

.checkbox-group hr {
    margin: 8px 0;
    border: none;
    border-top: 1px dashed #cbd5e1;
}

/* ===== FILE PREVIEW ===== */
.file-preview {
    margin-top: 10px;
    padding: 12px;
    background: linear-gradient(135deg, #e0f2fe 0%, #dbeafe 100%);
    border-radius: 8px;
    border: 2px dashed #3b82f6;
    font-size: 12px;
    display: none;
    animation: fadeIn 0.3s ease;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.file-preview strong {
    color: #1e40af;
}

.file-size-info {
    display: flex;
    align-items: center;
    gap: 8px;
    margin-top: 8px;
    padding: 8px;
    background-color: white;
    border-radius: 6px;
}

.size-badge {
    padding: 4px 10px;
    border-radius: 12px;
    font-size: 11px;
    font-weight: 700;
}

.size-good {
    background-color: #d1fae5;
    color: #065f46;
}

.size-warning {
    background-color: #fef3c7;
    color: #92400e;
}

.size-error {
    background-color: #fee2e2;
    color: #991b1b;
}

/* ===== PREVIEW & ANALYTICS BOX ===== */
.preview-box,
.analytics-box {
    border: 2px solid #3b82f6;
    padding: 14px;
    font-size: 13px;
    background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
    border-radius: 8px;
    line-height: 1.8;
}

.preview-box strong,
.analytics-box strong {
    color: #1e40af;
}

/* ===== STATUS BADGE ===== */
.status-badge {
    display: inline-block;
    padding: 6px 14px;
    border-radius: 16px;
    font-size: 12px;
    font-weight: 700;
}

.status-pending {
    background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
    color: #92400e;
}

.status-approved {
    background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    color: #065f46;
}

.status-draft {
    background: linear-gradient(135deg, #e0e7ff 0%, #c7d2fe 100%);
    color: #3730a3;
}

/* ===== BUTTONS ===== */
.button-group {
    display: flex;
    gap: 14px;
    margin-top: 25px;
    flex-wrap: wrap;
}

.primary-btn {
    padding: 14px 32px;
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    border: none;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(37, 99, 235, 0.3);
}

.primary-btn:hover {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(37, 99, 235, 0.4);
}

.secondary-btn {
    padding: 14px 32px;
    background: linear-gradient(135deg, #64748b 0%, #475569 100%);
    color: white;
    border: none;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(71, 85, 105, 0.3);
}

.secondary-btn:hover {
    background: linear-gradient(135deg, #475569 0%, #334155 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(71, 85, 105, 0.4);
}

.view-btn {
    padding: 14px 32px;
    background: linear-gradient(135deg, #10b981 0%, #059669 100%);
    color: white;
    border: none;
    font-size: 15px;
    font-weight: 700;
    cursor: pointer;
    border-radius: 8px;
    transition: all 0.3s ease;
    box-shadow: 0 4px 6px rgba(16, 185, 129, 0.3);
}

.view-btn:hover {
    background: linear-gradient(135deg, #059669 0%, #047857 100%);
    transform: translateY(-2px);
    box-shadow: 0 6px 12px rgba(16, 185, 129, 0.4);
}

/* ===== ERROR MESSAGE ===== */
.error-message {
    color: #ef4444;
    font-size: 12px;
    margin-top: 5px;
    display: none;
    font-weight: 600;
}

.error-message::before {
    content: "‚ö†Ô∏è ";
}

/* ===== SUBMITTED ENTRIES TABLE ===== */
.entries-section {
    margin-top: 30px;
    display: none;
}

.entries-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.entries-count {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
    padding: 8px 16px;
    border-radius: 20px;
    font-size: 13px;
    font-weight: 700;
}

.entries-table {
    width: 100%;
    border-collapse: collapse;
    background: white;
    border-radius: 12px;
    overflow: hidden;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
}

.entries-table thead {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

.entries-table th {
    padding: 14px;
    text-align: left;
    font-size: 13px;
    font-weight: 700;
    border-bottom: 2px solid #1e40af;
}

.entries-table td {
    padding: 12px 14px;
    font-size: 13px;
    border-bottom: 1px solid #e2e8f0;
}

.entries-table tbody tr {
    transition: background-color 0.2s;
}

.entries-table tbody tr:hover {
    background-color: #f8fafc;
}

.action-buttons {
    display: flex;
    gap: 8px;
}

.edit-btn,
.delete-btn,
.duplicate-btn {
    padding: 6px 12px;
    border: none;
    border-radius: 6px;
    font-size: 12px;
    font-weight: 600;
    cursor: pointer;
    transition: all 0.2s;
}

.edit-btn {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    color: white;
}

.edit-btn:hover {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
    transform: scale(1.05);
}

.delete-btn {
    background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
    color: white;
}

.delete-btn:hover {
    background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
    transform: scale(1.05);
}

.duplicate-btn {
    background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
    color: white;
}

.duplicate-btn:hover {
    background: linear-gradient(135deg, #7c3aed 0%, #6d28d9 100%);
    transform: scale(1.05);
}

.empty-state {
    text-align: center;
    padding: 40px;
    color: #64748b;
}

.empty-state::before {
    content: "üì≠";
    font-size: 48px;
    display: block;
    margin-bottom: 16px;
}

/* ===== FOOTER ===== */
.footer {
    background: linear-gradient(135deg, #1e293b 0%, #0f172a 100%);
    color: #94a3b8;
    text-align: center;
    padding: 20px;
    font-size: 13px;
    box-shadow: 0 -2px 4px rgba(0, 0, 0, 0.1);
}

/* ===== RESPONSIVE ===== */
@media (max-width: 1024px) {
    .form-grid {
        grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
    }
}

@media (max-width: 768px) {
    .layout {
        flex-direction: column;
    }
    
    .sidebar {
        width: 100%;
        padding: 15px 0;
    }
    
    .sidebar a {
        padding: 12px 20px;
    }
    
    .page-content {
        padding: 20px;
    }
    
    .form-grid {
        grid-template-columns: 1fr;
    }
    
    .button-group {
        flex-direction: column;
    }
    
    .button-group button {
        width: 100%;
    }
    
    .entries-table {
        font-size: 11px;
    }
    
    .entries-table th,
    .entries-table td {
        padding: 8px;
    }
}

/* ===== SCROLLBAR STYLING ===== */
::-webkit-scrollbar {
    width: 10px;
}

::-webkit-scrollbar-track {
    background: #f1f5f9;
}

::-webkit-scrollbar-thumb {
    background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
    border-radius: 5px;
}

::-webkit-scrollbar-thumb:hover {
    background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%);
}
</style>

</head>
<body>

<!-- TOP HEADER -->
<div class="top-header">
    <div class="header-left">SMART NOTICE BOARD</div>
    <div class="header-right">
        <div class="user-avatar" id="userAvatar">AS</div>
        <div id="headerUserInfo"> KAPLESH | FACULTY | ECE</div>
    </div>
</div>

<div class="layout">

<!-- SIDEBAR -->
<div class="sidebar">
    <a href="#" class="active">
        <span class="sidebar-icon">üè†</span>
        HOME
    </a>
    <a href="#">
        <span class="sidebar-icon">üìä</span>
        DASHBOARD
    </a>
    <a href="#" class="active">
        <span class="sidebar-icon">‚ûï</span>
        ADD INFORMATION
    </a>
    <a href="#">
        <span class="sidebar-icon">üìÖ</span>
        SCHEDULE MANAGER
    </a>
    <a href="#">
        <span class="sidebar-icon">‚öôÔ∏è</span>
        SETTINGS
    </a>
    <a href="#" onclick="logout()">
        <span class="sidebar-icon">üö™</span>
        LOGOUT
    </a>
</div>

<!-- PAGE CONTENT -->
<div class="page-content">

<!-- USER DETAILS -->
<div class="section">
    <div class="section-title">LOGGED IN USER DETAILS</div>
    <div class="user-info-grid">
        <div class="user-info-item">
            <b>USER ID:</b>
            <span id="userId">FAC-1023</span>
        </div>
        <div class="user-info-item">
            <b>NAME:</b>
            <span id="userName">Anjali Sharma</span>
        </div>
        <div class="user-info-item">
            <b>ROLE:</b>
            <span id="userRole">FACULTY</span>
        </div>
        <div class="user-info-item">
            <b>DEPARTMENT:</b>
            <span id="userDept">Electronics and Communication</span>
        </div>
        <div class="user-info-item">
            <b>POSTING SCOPE:</b>
            <span id="userScope">Department Level</span>
        </div>
        <div class="user-info-item">
            <b>APPROVAL STATUS:</b>
            <span id="approvalRequired">Requires Admin Approval</span>
        </div>
    </div>
</div>

<!-- ALERT -->
<div class="alert alert-info">
    <div>
        <strong>Note:</strong> All information submitted will be pending approval from the administrator before being displayed on notice boards. You can add multiple entries.
    </div>
</div>

<!-- ADD INFORMATION FORM -->
<div class="section">
<div class="section-title">ADD NOTICE INFORMATION</div>

<form id="addInfoForm">

<div class="form-grid">

<!-- BASIC INFO -->
<div class="form-box">
<h4>üìù BASIC INFORMATION</h4>

<div class="form-row">
<label>Title / Subject <span class="required">*</span></label>
<input type="text" id="title" placeholder="e.g., Mid-Semester Examination Schedule" required>
<div class="error-message" id="titleError">Title is required</div>
</div>

<div class="form-row">
<label>Short Description</label>
<textarea id="description" rows="3" placeholder="Brief summary for logs and preview (optional)"></textarea>
</div>

<div class="form-row">
<label>Content Category <span class="required">*</span></label>
<select id="category" required>
    <option value="">-- Select Category --</option>
    <option value="exam">üìö Exam</option>
    <option value="event">üéâ Event</option>
    <option value="circular">üìÑ Circular</option>
    <option value="announcement">üì¢ Announcement</option>
    <option value="emergency">üö® Emergency</option>
    <option value="holiday">üèñÔ∏è Holiday Notice</option>
    <option value="meeting">üë• Meeting</option>
    <option value="workshop">üéì Workshop/Seminar</option>
</select>
</div>
</div>

<!-- CONTENT -->
<div class="form-box">
<h4>üìÅ CONTENT DETAILS</h4>

<div class="form-row">
<label>Content Type <span class="required">*</span></label>
<select id="contentType" required onchange="updateContentOptions()">
    <option value="">-- Select Type --</option>
    <option value="pdf">üìÑ PDF (Single A4 Page)</option>
    <option value="word">üìù Word Document (Single A4 Page)</option>
    <option value="image">üñºÔ∏è Image (JPG/PNG)</option>
    <option value="video">üé• Video (MP4)</option>
</select>
</div>

<div class="form-row">
<label>Upload File <span class="required">*</span></label>
<input type="file" id="fileUpload" accept="" required onchange="handleFileUpload()">
<div class="note-text">
Max Video: 50MB | PDF/Word: 10MB | Image: 5MB
</div>
<div class="file-preview" id="filePreview"></div>
<div class="error-message" id="fileError">Please select a valid file</div>
</div>

<div class="form-row">
<label>Display Orientation <span class="required">*</span></label>
<select id="orientation" required>
    <option value="landscape">üì∫ Landscape (16:9)</option>
    <option value="portrait">üì± Portrait (9:16)</option>
</select>
</div>

<div class="form-row">
<label>
<input type="checkbox" id="withSound"> üîä Include Audio/Sound
</label>
<div class="note-text">Applicable for video content only</div>
</div>
</div>

<!-- SCHEDULING -->
<div class="form-box">
<h4>üìÖ SCHEDULING</h4>

<div class="form-row">
<label>Start Date & Time <span class="required">*</span></label>
<div class="time-inputs">
    <input type="date" id="startDate" required>
    <input type="time" id="startTime" required>
</div>
</div>

<div class="form-row">
<label>End Date & Time <span class="required">*</span></label>
<div class="time-inputs">
    <input type="date" id="endDate" required>
    <input type="time" id="endTime" required>
</div>
<div class="error-message" id="dateError">End date must be after start date</div>
</div>

<div class="form-row">
<label>
<input type="checkbox" id="autoRemove" checked> ‚ôªÔ∏è Auto remove after end time
</label>
</div>
</div>

<!-- DISPLAY RULES -->
<div class="form-box">
<h4>‚öôÔ∏è DISPLAY RULES</h4>

<div class="form-row">
<label>Display Duration <span class="required">*</span></label>
<select id="waitTime" required>
    <option value="1">1 Second</option>
    <option value="2">2 Seconds</option>
    <option value="3" selected>3 Seconds</option>
    <option value="4">4 Seconds</option>
    <option value="5">5 Seconds</option>
    <option value="10">10 Seconds</option>
    <option value="15">15 Seconds</option>
    <option value="30">30 Seconds</option>
</select>
<div class="note-text">For images/notes only (video uses actual duration)</div>
</div>

<div class="form-row">
<label>Repeat Mode <span class="required">*</span></label>
<select id="repeatMode" required>
    <option value="once">Show Once Per Cycle</option>
    <option value="repeat5">Repeat Every 5 Minutes</option>
    <option value="repeat10">Repeat Every 10 Minutes</option>
    <option value="repeat30">Repeat Every 30 Minutes</option>
    <option value="loop">Continuous Loop</option>
</select>
</div>

<div class="form-row">
<label>Priority Level <span class="required">*</span></label>
<select id="priority" required>
    <option value="normal">‚ö™ Normal</option>
    <option value="important">üü° Important</option>
    <option value="emergency">üî¥ Emergency</option>
</select>
<div class="note-text">Emergency interrupts current display immediately</div>
</div>

<div class="form-row">
<label>
<input type="checkbox" id="importantNote"> ‚≠ê Mark as Important Notice
</label>
</div>
</div>

<!-- DISPLAY SELECTION -->
<div class="form-box">
<h4>üñ•Ô∏è TARGET DISPLAY</h4>

<div class="form-row">
<label>Display Scope <span class="required">*</span></label>
<select id="displayScope" required onchange="updateDisplayOptions()">
    <option value="department">Department Level (ECE)</option>
    <option value="institute" id="instituteOption">Institute Level (All)</option>
</select>
</div>

<div class="checkbox-group" id="departmentDisplays">
<label><input type="checkbox" class="display-check" value="ece-main"> ECE Main Display</label>
<label><input type="checkbox" class="display-check" value="ece-lab"> ECE Lab Display</label>
<label><input type="checkbox" class="display-check" value="ece-seminar"> ECE Seminar Hall</label>
<label><input type="checkbox" class="display-check" value="ece-library"> ECE Library</label>
<hr>
<label><input type="checkbox" id="selectAllDisplays" onchange="toggleAllDisplays()"> <strong>Select All ECE Displays</strong></label>
</div>

<div class="checkbox-group" id="instituteDisplays" style="display: none;">
<label><input type="checkbox" class="institute-check" value="all-main"> All Main Entrance</label>
<label><input type="checkbox" class="institute-check" value="all-admin"> Admin Block</label>
<label><input type="checkbox" class="institute-check" value="all-library"> Central Library</label>
<label><input type="checkbox" class="institute-check" value="all-departments"> All Departments</label>
<hr>
<label><input type="checkbox" id="selectAllInstitute" onchange="toggleAllInstitute()"> <strong>Select All Institute</strong></label>
</div>
<div class="error-message" id="displayError">Select at least one display</div>
</div>

<!-- APPROVAL STATUS -->
<div class="form-box">
<h4>‚úÖ APPROVAL STATUS</h4>
<p>Current Status: <span class="status-badge status-pending">Pending Approval</span></p>
<div class="note-text">
Admin approval required before publishing. Email notification upon approval.
</div>
</div>

<!-- PREVIEW -->
<div class="form-box">
<h4>üëÅÔ∏è PREVIEW SUMMARY</h4>
<div class="preview-box" id="previewBox">
<strong>Title:</strong> <span id="previewTitle">Not set</span><br>
<strong>Category:</strong> <span id="previewCategory">Not set</span><br>
<strong>Type:</strong> <span id="previewType">Not set</span><br>
<strong>Priority:</strong> <span id="previewPriority">Normal</span><br>
<strong>Schedule:</strong> <span id="previewSchedule">Not set</span><br>
<strong>Target:</strong> <span id="previewTarget">Not set</span><br>
<strong>Important:</strong> <span id="previewImportant">No</span>
</div>
</div>

<!-- ANALYTICS -->
<div class="form-box">
<h4>üìä ANALYTICS</h4>
<div class="analytics-box">
<strong>Status:</strong> Not yet submitted<br>
<strong>Displayed:</strong> 0 times<br>
<strong>Screen Time:</strong> 0 minutes<br>
<strong>Reach:</strong> 0 viewers
</div>
<div class="note-text">Available after approval and display</div>
</div>

</div>

<div class="button-group">
    <button type="submit" class="primary-btn">‚úì SUBMIT INFORMATION</button>
    <button type="button" class="secondary-btn" onclick="resetForm()">üîÑ RESET FORM</button>
    <button type="button" class="secondary-btn" onclick="saveDraft()">üíæ SAVE AS DRAFT</button>
    <button type="button" class="view-btn" onclick="toggleEntriesView()">üìã VIEW MY SUBMISSIONS</button>
</div>

</form>
</div>

<!-- SUBMITTED ENTRIES SECTION -->
<div class="section entries-section" id="entriesSection">
<div class="entries-header">
    <div class="section-title">üìã MY SUBMITTED INFORMATION</div>
    <div class="entries-count" id="entriesCount">0 Entries</div>
</div>

<table class="entries-table" id="entriesTable">
    <thead>
        <tr>
            <th>ID</th>
            <th>Title</th>
            <th>Category</th>
            <th>Type</th>
            <th>File Size</th>
            <th>Schedule</th>
            <th>Target</th>
            <th>Status</th>
            <th>Actions</th>
        </tr>
    </thead>
    <tbody id="entriesTableBody">
        <tr>
            <td colspan="9" class="empty-state">
                <strong>No submissions yet</strong><br>
                Add your first information entry above
            </td>
        </tr>
    </tbody>
</table>
</div>

</div>
</div>

<!-- FOOTER -->
<div class="footer">
    ¬© 2025 SMART NOTICE BOARD SYSTEM | PARUL UNIVERSITY | All Rights Reserved
</div>

<script>
// ===== GLOBAL VARIABLES =====
const currentUser = {
    id: 'FAC-1023',
    name: 'Anjali Sharma',
    role: 'Faculty',
    department: 'Electronics and Communication',
    departmentCode: 'ECE',
    scope: 'Department Level',
    canPostInstitute: false,
    requiresApproval: true
};

let submittedEntries = [];
let editingEntryId = null;

// ===== INITIALIZE =====
window.onload = function() {
    loadUserInfo();
    setDefaultDates();
    updatePreview();
    loadSubmittedEntries();
};

// ===== LOAD USER INFO =====
function loadUserInfo() {
    document.getElementById('userId').textContent = currentUser.id;
    document.getElementById('userName').textContent = currentUser.name;
    document.getElementById('userRole').textContent = currentUser.role;
    document.getElementById('userDept').textContent = currentUser.department;
    document.getElementById('userScope').textContent = currentUser.scope;
    
    const initials = currentUser.name.split(' ').map(n => n[0]).join('');
    document.getElementById('userAvatar').textContent = initials;
    
    if (!currentUser.canPostInstitute) {
        const instituteOption = document.getElementById('instituteOption');
        instituteOption.disabled = true;
        instituteOption.textContent = 'üîí Institute Level (Requires Admin Rights)';
    }
}

// ===== SET DEFAULT DATES =====
function setDefaultDates() {
    const now = new Date();
    const startDate = now.toISOString().split('T')[0];
    const startTime = now.toTimeString().slice(0, 5);
    
    document.getElementById('startDate').value = startDate;
    document.getElementById('startTime').value = startTime;
    
    const endDate = new Date(now.getTime() + 7 * 24 * 60 * 60 * 1000);
    document.getElementById('endDate').value = endDate.toISOString().split('T')[0];
    document.getElementById('endTime').value = startTime;
}

// ===== UPDATE CONTENT OPTIONS =====
function updateContentOptions() {
    
    const contentType = document.getElementById('contentType').value;
    const fileUpload = document.getElementById('fileUpload');
    
    switch(contentType) {
        case 'pdf':
            fileUpload.accept = '.pdf';
            break;
        case 'word':
            fileUpload.accept = '.doc,.docx';
            break;
        case 'image':
            fileUpload.accept = '.jpg,.jpeg,.png,.gif';
            break;
        case 'video':
            fileUpload.accept = '.mp4,.avi,.mov';
            break;
        default:
            fileUpload.accept = '';
    }
    
    updatePreview();
}

// ===== HANDLE FILE UPLOAD WITH SIZE DISPLAY =====
function handleFileUpload() {
    const fileInput = document.getElementById('fileUpload');
    const filePreview = document.getElementById('filePreview');
    const file = fileInput.files[0];
    
    if (file) {
        const sizeMB = (file.size / (1024 * 1024)).toFixed(2);
        const sizeKB = (file.size / 1024).toFixed(2);
        const contentType = document.getElementById('contentType').value;
        
        // Determine size status
        let sizeStatus = 'good';
        let sizeClass = 'size-good';
        let maxSize = 0;
        
        if (contentType === 'video') {
            maxSize = 50;
            if (sizeMB > 50) sizeStatus = 'error';
            else if (sizeMB > 40) sizeStatus = 'warning';
        } else if (contentType === 'image') {
            maxSize = 5;
            if (sizeMB > 5) sizeStatus = 'error';
            else if (sizeMB > 4) sizeStatus = 'warning';
        } else {
            maxSize = 10;
            if (sizeMB > 10) sizeStatus = 'error';
            else if (sizeMB > 8) sizeStatus = 'warning';
        }
        
        if (sizeStatus === 'error') sizeClass = 'size-error';
        else if (sizeStatus === 'warning') sizeClass = 'size-warning';
        
        // Get dimensions for images
        let dimensionsHTML = '';
        if (contentType === 'image' && file.type.startsWith('image/')) {
            const img = new Image();
            img.onload = function() {
                const dimensions = `${this.width} √ó ${this.height} px`;
                document.getElementById('imageDimensions').textContent = dimensions;
            };
            img.src = URL.createObjectURL(file);
            dimensionsHTML = '<br><strong>Dimensions:</strong> <span id="imageDimensions">Loading...</span>';
        }
        
        filePreview.innerHTML = `
            <strong>üìé File Name:</strong> ${file.name}<br>
            <strong>üìä File Type:</strong> ${file.type || 'Unknown'}<br>
            <strong>üíæ File Size:</strong> ${sizeMB} MB (${sizeKB} KB)
            <div class="file-size-info">
                <span class="size-badge ${sizeClass}">
                    ${sizeStatus === 'good' ? '‚úì Size OK' : sizeStatus === 'warning' ? '‚ö† Close to Limit' : '‚úó Exceeds Limit'}
                </span>
                <span style="font-size: 11px;">Max: ${maxSize} MB</span>
            </div>
            ${dimensionsHTML}
        `;
        filePreview.style.display = 'block';
        
        // Validate file size
        if (sizeStatus === 'error') {
            alert(`‚ö†Ô∏è File size exceeds ${maxSize}MB limit!\n\nCurrent size: ${sizeMB} MB\nPlease select a smaller file.`);
            fileInput.value = '';
            filePreview.style.display = 'none';
            document.getElementById('fileError').style.display = 'block';
            return;
        }
        
        document.getElementById('fileError').style.display = 'none';
    }
    
    updatePreview();
}

// ===== UPDATE DISPLAY OPTIONS =====
function updateDisplayOptions() {
    const scope = document.getElementById('displayScope').value;
    const deptDisplays = document.getElementById('departmentDisplays');
    const instDisplays = document.getElementById('instituteDisplays');
    
    if (scope === 'institute') {
        deptDisplays.style.display = 'none';
        instDisplays.style.display = 'flex';
    } else {
        deptDisplays.style.display = 'flex';
        instDisplays.style.display = 'none';
    }
    
    updatePreview();
}

// ===== TOGGLE ALL DISPLAYS =====
function toggleAllDisplays() {
    const selectAll = document.getElementById('selectAllDisplays');
    const checkboxes = document.querySelectorAll('.display-check');
    checkboxes.forEach(cb => cb.checked = selectAll.checked);
    updatePreview();
}

function toggleAllInstitute() {
    const selectAll = document.getElementById('selectAllInstitute');
    const checkboxes = document.querySelectorAll('.institute-check');
    checkboxes.forEach(cb => cb.checked = selectAll.checked);
    updatePreview();
}

// ===== UPDATE PREVIEW =====
function updatePreview() {
    document.getElementById('previewTitle').textContent = document.getElementById('title').value || 'Not set';
    
    const category = document.getElementById('category');
    document.getElementById('previewCategory').textContent = 
        category.selectedIndex > 0 ? category.options[category.selectedIndex].text : 'Not set';
    
    const contentType = document.getElementById('contentType');
    document.getElementById('previewType').textContent = 
        contentType.selectedIndex > 0 ? contentType.options[contentType.selectedIndex].text : 'Not set';
    
    const priority = document.getElementById('priority');
    document.getElementById('previewPriority').textContent = 
        priority.options[priority.selectedIndex].text;
    
    const startDate = document.getElementById('startDate').value;
    const startTime = document.getElementById('startTime').value;
    const endDate = document.getElementById('endDate').value;
    const endTime = document.getElementById('endTime').value;
    if (startDate && endDate) {
        document.getElementById('previewSchedule').textContent = 
            `${startDate} ${startTime} to ${endDate} ${endTime}`;
    }
    
    const scope = document.getElementById('displayScope').value;
    let targetText = 'Not set';
    if (scope === 'department') {
        const checkedDisplays = Array.from(document.querySelectorAll('.display-check:checked'));
        if (checkedDisplays.length > 0) {
            targetText = checkedDisplays.length === document.querySelectorAll('.display-check').length 
                ? 'All ECE Displays' 
                : `${checkedDisplays.length} ECE Display(s)`;
        }
    } else if (scope === 'institute') {
        const checkedDisplays = Array.from(document.querySelectorAll('.institute-check:checked'));
        if (checkedDisplays.length > 0) {
            targetText = checkedDisplays.length === document.querySelectorAll('.institute-check').length 
                ? 'All Institute Displays' 
                : `${checkedDisplays.length} Institute Display(s)`;
        }
    }
    document.getElementById('previewTarget').textContent = targetText;
    
    document.getElementById('previewImportant').textContent = 
        document.getElementById('importantNote').checked ? 'Yes ‚≠ê' : 'No';
}

// Add event listeners
document.getElementById('title').addEventListener('input', updatePreview);
document.getElementById('category').addEventListener('change', updatePreview);
document.getElementById('priority').addEventListener('change', updatePreview);
document.getElementById('startDate').addEventListener('change', updatePreview);
document.getElementById('startTime').addEventListener('change', updatePreview);
document.getElementById('endDate').addEventListener('change', updatePreview);
document.getElementById('endTime').addEventListener('change', updatePreview);
document.getElementById('importantNote').addEventListener('change', updatePreview);

document.querySelectorAll('.display-check, .institute-check').forEach(cb => {
    cb.addEventListener('change', updatePreview);
});

// ===== FORM VALIDATION =====
function validateForm() {
    let isValid = true;
    
    if (!document.getElementById('title').value.trim()) {
        document.getElementById('titleError').style.display = 'block';
        isValid = false;
    } else {
        document.getElementById('titleError').style.display = 'none';
    }
    
    if (!document.getElementById('fileUpload').files.length) {
        document.getElementById('fileError').style.display = 'block';
        isValid = false;
    } else {
        document.getElementById('fileError').style.display = 'none';
    }
    
    const startDate = new Date(document.getElementById('startDate').value + ' ' + document.getElementById('startTime').value);
    const endDate = new Date(document.getElementById('endDate').value + ' ' + document.getElementById('endTime').value);
    
    if (endDate <= startDate) {
        document.getElementById('dateError').style.display = 'block';
        isValid = false;
    } else {
        document.getElementById('dateError').style.display = 'none';
    }
    
    const scope = document.getElementById('displayScope').value;
    let hasDisplay = false;
    
    if (scope === 'department') {
        hasDisplay = document.querySelectorAll('.display-check:checked').length > 0;
    } else {
        hasDisplay = document.querySelectorAll('.institute-check:checked').length > 0;
    }
    
    if (!hasDisplay) {
        document.getElementById('displayError').style.display = 'block';
        isValid = false;
    } else {
        document.getElementById('displayError').style.display = 'none';
    }
    
    return isValid;
}

// ===== FORM SUBMISSION =====
document.getElementById('addInfoForm').addEventListener('submit', function(e) {
    e.preventDefault();
    
    if (!validateForm()) {
        alert('‚ö†Ô∏è Please fill in all required fields correctly.');
        return;
    }
    
    const file = document.getElementById('fileUpload').files[0];
    const fileSize = (file.size / (1024 * 1024)).toFixed(2);
    
    const entry = {
        id: editingEntryId || 'INF-' + Date.now(),
        userId: currentUser.id,
        userName: currentUser.name,
        department: currentUser.department,
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        category: document.getElementById('category').value,
        categoryText: document.getElementById('category').options[document.getElementById('category').selectedIndex].text,
        contentType: document.getElementById('contentType').value,
        contentTypeText: document.getElementById('contentType').options[document.getElementById('contentType').selectedIndex].text,
        fileName: file.name,
        fileSize: fileSize + ' MB',
        orientation: document.getElementById('orientation').value,
        withSound: document.getElementById('withSound').checked,
        startDate: document.getElementById('startDate').value,
        startTime: document.getElementById('startTime').value,
        endDate: document.getElementById('endDate').value,
        endTime: document.getElementById('endTime').value,
        autoRemove: document.getElementById('autoRemove').checked,
        waitTime: document.getElementById('waitTime').value,
        repeatMode: document.getElementById('repeatMode').value,
        priority: document.getElementById('priority').value,
        importantNote: document.getElementById('importantNote').checked,
        displayScope: document.getElementById('displayScope').value,
        selectedDisplays: getSelectedDisplays(),
        approvalStatus: 'pending',
        submissionTime: new Date().toISOString(),
        lastUpdated: new Date().toISOString()
    };
    
    if (editingEntryId) {
        const index = submittedEntries.findIndex(e => e.id === editingEntryId);
        if (index !== -1) {
            submittedEntries[index] = entry;
            alert('‚úÖ Information updated successfully!\n\nYour changes have been saved and are pending approval.');
        }
        editingEntryId = null;
    } else {
        submittedEntries.push(entry);
        alert('‚úÖ Information submitted successfully!\n\nSubmission ID: ' + entry.id + '\n\nYour submission is pending administrator approval.');
    }
    
    saveSubmittedEntries();
    displaySubmittedEntries();
    resetForm();
    
    // Show entries section
    document.getElementById('entriesSection').style.display = 'block';
    document.getElementById('entriesSection').scrollIntoView({ behavior: 'smooth' });
});

// ===== GET SELECTED DISPLAYS =====
function getSelectedDisplays() {
    const scope = document.getElementById('displayScope').value;
    const displays = [];
    
    if (scope === 'department') {
        document.querySelectorAll('.display-check:checked').forEach(cb => {
            displays.push(cb.value);
        });
    } else {
        document.querySelectorAll('.institute-check:checked').forEach(cb => {
            displays.push(cb.value);
        });
    }
    
    return displays;
}

// ===== LOAD SUBMITTED ENTRIES =====
function loadSubmittedEntries() {
    const saved = localStorage.getItem('noticeboard_entries_' + currentUser.id);
    if (saved) {
        submittedEntries = JSON.parse(saved);
        displaySubmittedEntries();
    }
}

// ===== SAVE SUBMITTED ENTRIES =====
function saveSubmittedEntries() {
    localStorage.setItem('noticeboard_entries_' + currentUser.id, JSON.stringify(submittedEntries));
}

// ===== DISPLAY SUBMITTED ENTRIES =====
function displaySubmittedEntries() {
    const tbody = document.getElementById('entriesTableBody');
    document.getElementById('entriesCount').textContent = submittedEntries.length + ' Entries';
    
    if (submittedEntries.length === 0) {
        tbody.innerHTML = `
            <tr>
                <td colspan="9" class="empty-state">
                    <strong>No submissions yet</strong><br>
                    Add your first information entry above
                </td>
            </tr>
        `;
        return;
    }
    
    tbody.innerHTML = '';
    submittedEntries.slice().reverse().forEach((entry, index) => {
        const row = document.createElement('tr');
        
        const statusClass = entry.approvalStatus === 'approved' ? 'status-approved' : 
                           entry.approvalStatus === 'draft' ? 'status-draft' : 'status-pending';
        const statusText = entry.approvalStatus === 'approved' ? '‚úì Approved' : 
                          entry.approvalStatus === 'draft' ? 'üìù Draft' : '‚è≥ Pending';
        
        row.innerHTML = `
            <td><strong>${entry.id}</strong></td>
            <td>${entry.title}</td>
            <td>${entry.categoryText}</td>
            <td>${entry.contentTypeText.split('(')[0]}</td>
            <td><strong>${entry.fileSize}</strong></td>
            <td style="font-size: 11px;">${entry.startDate} to ${entry.endDate}</td>
            <td>${entry.selectedDisplays.length} Display(s)</td>
            <td><span class="status-badge ${statusClass}">${statusText}</span></td>
            <td>
                <div class="action-buttons">
                    <button class="edit-btn" onclick="editEntry('${entry.id}')">‚úèÔ∏è Edit</button>
                    <button class="duplicate-btn" onclick="duplicateEntry('${entry.id}')">üìã Copy</button>
                    <button class="delete-btn" onclick="deleteEntry('${entry.id}')">üóëÔ∏è Delete</button>
                </div>
            </td>
        `;
        tbody.appendChild(row);
    });
}

// ===== TOGGLE ENTRIES VIEW =====
function toggleEntriesView() {
    const section = document.getElementById('entriesSection');
    if (section.style.display === 'none' || section.style.display === '') {
        section.style.display = 'block';
        section.scrollIntoView({ behavior: 'smooth' });
    } else {
        section.style.display = 'none';
    }
}

// ===== EDIT ENTRY =====
function editEntry(id) {
    const entry = submittedEntries.find(e => e.id === id);
    if (!entry) return;
    
    editingEntryId = id;
    
    document.getElementById('title').value = entry.title;
    document.getElementById('description').value = entry.description;
    document.getElementById('category').value = entry.category;
    document.getElementById('contentType').value = entry.contentType;
    document.getElementById('orientation').value = entry.orientation;
    document.getElementById('withSound').checked = entry.withSound;
    document.getElementById('startDate').value = entry.startDate;
    document.getElementById('startTime').value = entry.startTime;
    document.getElementById('endDate').value = entry.endDate;
    document.getElementById('endTime').value = entry.endTime;
    document.getElementById('autoRemove').checked = entry.autoRemove;
    document.getElementById('waitTime').value = entry.waitTime;
    document.getElementById('repeatMode').value = entry.repeatMode;
    document.getElementById('priority').value = entry.priority;
    document.getElementById('importantNote').checked = entry.importantNote;
    document.getElementById('displayScope').value = entry.displayScope;
    
    updateDisplayOptions();
    
    if (entry.displayScope === 'department') {
        document.querySelectorAll('.display-check').forEach(cb => {
            cb.checked = entry.selectedDisplays.includes(cb.value);
        });
    } else {
        document.querySelectorAll('.institute-check').forEach(cb => {
            cb.checked = entry.selectedDisplays.includes(cb.value);
        });
    }
    
    updatePreview();
    
    window.scrollTo({ top: 0, behavior: 'smooth' });
    alert('‚úèÔ∏è Editing: ' + entry.title + '\n\nModify the form and click SUBMIT to update.');
}

// ===== DUPLICATE ENTRY =====
function duplicateEntry(id) {
    const entry = submittedEntries.find(e => e.id === id);
    if (!entry) return;
    
    editingEntryId = null;
    
    document.getElementById('title').value = entry.title + ' (Copy)';
    document.getElementById('description').value = entry.description;
    document.getElementById('category').value = entry.category;
    document.getElementById('contentType').value = entry.contentType;
    document.getElementById('orientation').value = entry.orientation;
    document.getElementById('withSound').checked = entry.withSound;
    document.getElementById('startDate').value = entry.startDate;
    document.getElementById('startTime').value = entry.startTime;
    document.getElementById('endDate').value = entry.endDate;
    document.getElementById('endTime').value = entry.endTime;
    document.getElementById('autoRemove').checked = entry.autoRemove;
    document.getElementById('waitTime').value = entry.waitTime;
    document.getElementById('repeatMode').value = entry.repeatMode;
    document.getElementById('priority').value = entry.priority;
    document.getElementById('importantNote').checked = entry.importantNote;
    document.getElementById('displayScope').value = entry.displayScope;
    
    updateDisplayOptions();
    
    if (entry.displayScope === 'department') {
        document.querySelectorAll('.display-check').forEach(cb => {
            cb.checked = entry.selectedDisplays.includes(cb.value);
        });
    } else {
        document.querySelectorAll('.institute-check').forEach(cb => {
            cb.checked = entry.selectedDisplays.includes(cb.value);
        });
    }
    
    updatePreview();
    
    window.scrollTo({ top: 0, behavior: 'smooth' });
    alert('üìã Entry duplicated!\n\nModify as needed and submit as a new entry.');
}

// ===== DELETE ENTRY =====
function deleteEntry(id) {
    if (!confirm('üóëÔ∏è Are you sure you want to delete this entry?\n\nThis action cannot be undone.')) {
        return;
    }
    
    submittedEntries = submittedEntries.filter(e => e.id !== id);
    saveSubmittedEntries();
    displaySubmittedEntries();
    
    alert('‚úÖ Entry deleted successfully!');
}

// ===== RESET FORM =====
function resetForm() {
    if (editingEntryId) {
        if (!confirm('‚ö†Ô∏è You are currently editing an entry. Reset will cancel the edit. Continue?')) {
            return;
        }
        editingEntryId = null;
    }
    
    document.getElementById('addInfoForm').reset();
    document.getElementById('filePreview').style.display = 'none';
    setDefaultDates();
    updatePreview();
}

// ===== SAVE DRAFT =====
function saveDraft() {
    const formData = {
        title: document.getElementById('title').value,
        description: document.getElementById('description').value,
        category: document.getElementById('category').value,
    };
    
    localStorage.setItem('noticeboard_draft_' + currentUser.id, JSON.stringify(formData));
    alert('üíæ Draft saved successfully!\n\nYou can continue editing later.');
}

// ===== LOGOUT =====
function logout() {
    if (confirm('üö™ Are you sure you want to logout?')) {
        window.location.href = 'login.html';
    }
}
</script>

</body>
</html>